<!DOCTYPE html>
<html lang="en">

<head>
    <title>GSoC + TensorFlow</title>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" sizes="152x152" href="/assets/images/logos/alexandrosMegas.jpg">
    <link href="/assets/main.css" media="screen" rel="stylesheet" type="text/css">
    <script src="/assets/main.js" type="text/javascript"></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-HBVJ1FF958"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-HBVJ1FF958');
    </script>
</head>

<body class="">
    <div id="container">
        <div class="signature">
            <div class="flexcontainer">
                <div class="nav-view">
                    <div class="nav-inner">
                        <nav>
                            <a href="/" title="New Ideas"><img style="float: left;margin: 0px 35px 25px 35px;"
                                    src="/assets/images/logos/logo.svg" alt="website-logo" width="75" height="75"></a>
                            <ul>
                                <li><a href="/about" title="About">About</a></li>
                                <li><a href="/" title="Articles">Articles</a></li>
                                <li><a href="/research" title="Research">Research</a></li>
                                <li><a href="/reading" title="Reading">Reading</a></li>
                                <li><a href="/notes" title="Notes">Notes</a></li>
                            </ul>
                        </nav>
                    </div>
                </div>
                <div class="toc-index"></div>
                <div class="content">
                    <div class="signature-content-header">
                        <div id="title">
                            <h1>Report: GSoC with TensorFlow</h1>
                            <h3>Official Work Product Submission for the 2020 edition of Google Summer of Code with
                                TensorFlow.
                            </h3>
                            <div class="publishing-info-mobile">
                                <p><em>Published:</em> June 6, 2020</p>
                                <p><em>Updated:</em> August 24, 2020</p>
                                <p><em>Status:</em> Finished</p>
                            </div>
                        </div>
                    </div>
                    <div class="signature-content">
                        <div class="toc">
                            <h2>Contents</h2>
                            <ol>
                                <li><a href="#section-0">Overview</a></li>
                                <li><a href="#section-1">Acknowledgements</a></li>
                                <li><a href="#section-2">SotA models in TensorFlow 2.x</a>
                                    <ol>
                                        <li><a href="#section-3">General Conversion</a></li>
                                        <li><a href="#section-4">AttentionOCR</a></li>
                                        <li><a href="#section-5">DeepSpeech</a></li>
                                        <li><a href="#section-6">Future Work</a></li>
                                        <li><a href="#section-7">Challenges encountered</a></li>
                                    </ol>
                                </li>
                                <li><a href="#section-8">Mobile Video Object Detection</a>
                                    <ol>
                                        <li><a href="#section-9">Work done</a></li>
                                        <li><a href="#section-10">Future Work</a></li>
                                    </ol>
                                </li>
                                <li><a href="#section-11">GitHub Issue Support</a></li>
                                <li><a href="#section-12">Documentation Improvements<a>
                                            <ol>
                                                <li><a href="#section-13">Get started with Google Cloud Platform</a>
                                                <li><a href="#section-14">Minor improvements</a>
                                            </ol>
                                </li>
                                <li><a href="#section-15">Final Thoughts</a></li>
                            </ol>
                            <div class="divider-short"></div>
                        </div>
                        <article class="big">
                            <p><em>Google Summer of Code requires a "work product submission"<input type="checkbox"
                                        id="cb-1" /><label for="cb-1"><sup id="footnote-1"><span
                                                class="node-link">1</span></sup></label><span><br><br>1: <a
                                            href="https://developers.google.com/open-source/gsoc/help/work-product">https://developers.google.com/open-source/gsoc/help/work-product</a><br><br></span>that
                                    publicly documents the results of the project. I'm writing this post to summarize
                                    the goals achieved and work still
                                    in progress along with a concise description of the challenges encountered along the
                                    way. The project mainly dealt with
                                    <code>tf1.x</code> to <code>tf2.x</code> migration, improvements to Mobile Video
                                    Object Detection models, GitHub issue support and Documentation
                                    improvements. I will also add steps for future work at the end of the report.
                                    <br><br>A repository with most of the code and
                                    some thoughts noted down during the summer can be found <a
                                        href="https://github.com/kyscg/tf-models">here</a>.</em>
                            </p>

                            <h2 id="section-0"><a href="#section-0">Overview</a></h2>

                            <p>During Google Summer of Code 2020, I contributed to the TensorFlow Model Garden. The work
                                was in collaboration with the maintainers of the various models I had to improve or
                                build and that has been an excellent learning experience for me. Apart from developing
                                my programming skills, I also learnt a lot about code quality, structuring and
                                maintenance. <a
                                    href="https://summerofcode.withgoogle.com/archive/2020/projects/6005707201052672/">This
                                    project</a> was aimed at providing tf2.x versions of code to SotA models on the <a
                                    href="https://github.com/tensorflow/models">tensorflow/models</a> repository, and
                                improving documentation for existing models.</p>
                            <p>Throughout, I managed to work on migrations for the <a
                                    href="https://github.com/tensorflow/models/tree/master/research/attention_ocr">AttentionOCR</a>
                                model, and test the <a
                                    href="https://github.com/tensorflow/models/tree/master/research/deep_speech">DeepSpeech</a>
                                conversion. Both run successfully on TF2.3 and TF1.15. Other work includes improvements
                                for the <a
                                    href="https://github.com/tensorflow/models/tree/master/research/lstm_object_detection">Tensorflow
                                    Mobile Video Object Detection</a>, documentation updates for <a
                                    href="https://cloud.google.com/">Google Cloud Platform</a> and general GitHub
                                support.</p>

                            <h2 id="section-1"><a href="#section-1">Acknowledgements</a></h2>
                            <p>Before I start with my report, I would like to thank my mentor <a
                                    href="https://github.com/jaeyounkim">Jaeyoun Kim</a>, who was very supportive
                                throughout the summer. I got a lot of help structuring my projects and prioritizing my
                                next steps well in advance. I also learnt a lot from the individual project mentors, <a
                                    href="https://github.com/xavigibert">Xavier Gibert</a> and <a
                                    href="https://github.com/yuanliangzhe">Liangzhe Yuan</a> respectively. I thank them
                                for their constant guidance, code reviews, timely feedback, help and most importantly,
                                for their dedicated advice and encouragement throughout GSoC. I would definitely love to
                                contribute more in the future to the TensorFlow Model Garden.</p>

                            <h2 id="section-2"><a href="#section-2">SotA models in TensorFlow 2.x</a></h2>
                            <p>TensorFlow has an extensive Model Garden covering many algorithms that are necessary for
                                the generic machine-learning practitioner. The algorithms are mainly hosted under the <a
                                    href="https://github.com/tensorflow/models/blob/master/official">official</a> and <a
                                    href="https://github.com/tensorflow/models/blob/master/research">research</a>
                                folders.<input type="checkbox" id="cb-2" /><label for="cb-2"><sup id="footnote-2"><span
                                            class="node-link">2</span></sup></label><span><br><br>2: Note that some of
                                    the models in the research folder were shifted to an archive branch as referenced by
                                    <a
                                        href="https://github.com/tensorflow/models/commit/a8ba923c873f9848d0f6453f3e2e3fa2dd1187dc"><code>a8ba923</code></a>.
                                    <br><br></span> Many of the current architectures coded in the tf/models repository
                                are
                                written in TensorFlow 1.x. It would do the entire user community an excellent service to
                                convert the existing <code>tf1.x</code> to <code>tf2.x</code>. For this, I was fortunate
                                to receive the help of
                                the original authors who wrote the models or are currently maintaining the model
                                folders. The end goal of the project was to make TensorFlow more user-friendly from the
                                perspective of researchers.</p>
                            <h3 id="section-3"><a href="#section-3">General Conversion</a></h3>
                            <p>The significant changes when TensorFlow 2 came out were 1) API cleanup, 2) Eager
                                execution, 3) no global namespaces and 4) functions in place of sessions.<input
                                    type="checkbox" id="cb-3" /><label for="cb-3"><sup id="footnote-3"><span
                                            class="node-link">3</span></sup></label><span><br><br>3: <a
                                        href="https://www.tensorflow.org/guide/effective_tf2">https://www.tensorflow.org/guide/effective_tf2</a>.
                                    <br><br></span> So the logical
                                flowchart for conversion to native TF2 would be to first sort out the API&#39;s that
                                were deprecated and replace them with the newer ones. TensorFlow has a list hosted <a
                                    href="https://github.com/tensorflow/community/blob/master/rfcs/20180827-api-names.md#appendix-1-additional-endpoints">here</a>.
                                The next step would be to break down the code into smaller functions. This has the
                                additional advantage of allowing TensorFlow 2.x to gain all the benefits of graph mode.
                            </p>
                            <pre><code class="lang-python"><span class="hljs-comment"># TensorFlow 1.x</span>
<span class="hljs-attr">outputs</span> = session.run(f(placeholder), feed_dict={placeholder: input})

<span class="hljs-comment"># TensorFlow 2.x</span>
<span class="hljs-attr">outputs</span> = f(input)
</code></pre>
                            <p>We also have the option of using <code>tf.function</code> to make graphs out of our
                                programs. <code>tf.function</code> wraps a Python function to create an object which
                                selects the appropriate graph for the inputs. For example,</p>
                            <pre><code class="lang-python"><span class="hljs-meta">@tf</span>.function
def <span class="hljs-keyword">double</span>(a):
  print(<span class="hljs-string">"Tracing with"</span>, a)
  <span class="hljs-keyword">return</span> a + a

print(<span class="hljs-keyword">double</span>(tf.constant(1)))
print()
print(<span class="hljs-keyword">double</span>(tf.constant(1.1)))
print()
print(<span class="hljs-keyword">double</span>(tf.constant(<span class="hljs-string">"a"</span>)))
print()
</code></pre>
                            <pre><code class="lang-io">Tracing <span class="hljs-keyword">with</span> Tensor(<span class="hljs-string">"a:0"</span>, <span class="hljs-attr">shape=(),</span> <span class="hljs-attr">dtype=int32)</span>
tf.Tensor(<span class="hljs-number">2</span>, <span class="hljs-attr">shape=(),</span> <span class="hljs-attr">dtype=int32)</span>

Tracing <span class="hljs-keyword">with</span> Tensor(<span class="hljs-string">"a:0"</span>, <span class="hljs-attr">shape=(),</span> <span class="hljs-attr">dtype=float32)</span>
tf.Tensor(<span class="hljs-number">2.2</span>, <span class="hljs-attr">shape=(),</span> <span class="hljs-attr">dtype=float32)</span>

Tracing <span class="hljs-keyword">with</span> Tensor(<span class="hljs-string">"a:0"</span>, <span class="hljs-attr">shape=(),</span> <span class="hljs-attr">dtype=string)</span>
tf.Tensor(b'aa', <span class="hljs-attr">shape=(),</span> <span class="hljs-attr">dtype=string)</span>
</code></pre>
                            <h3 id="section-4"><a href="#section-4"><a
                                        href="https://github.com/tensorflow/models/issues/8703">AttentionOCR</a><a
                                        href="https://arxiv.org/abs/1704.03549"><img
                                            src="http://img.shields.io/badge/arXiv-1704.03549-B3181B.svg"
                                            alt="Paper"></a></h3>

                            <strong>Methods</strong>
                            <p>For converting the AttentionOCR model from TF1.x to TF2.x, I followed a few steps that I
                                think would be very useful to readers when they&#39;re upgrading their own models or
                                code.</p>
                            <ol>
                                <li><strong>Preparing the code</strong>: Any dependency that we have should be made
                                    compatible with TF2.x. This is important so that we don&#39;t end up making mistakes
                                    while converting the code. A good practice is to have unit tests written with good
                                    coverage.</li>
                                <li><strong>Install TensorFlow 1.15</strong>: We need to upgrade our TensorFlow to
                                    <code>tf1.15</code> which is the latest TF1.x version.
                                </li>
                                <li><strong>Run tests on <code>tf1.15</code></strong>: Just to be careful</li>
                                <li><strong>Run <code>tf_upgrade_v2</code></strong>: Run this script on both the code
                                    and unit tests. Most of the code will convert to symbols only available in
                                    TensorFlow 2.x and in cases where symbols are deprecated, <code>tf.compat.v1</code>
                                    will be used, which we will come to shortly. Usage of the upgrade script is as
                                    follows:</li>
                            </ol>
                            <pre><code class="lang-css">$ tf_upgrade_v2 \
  -<span class="ruby">-intree my_project/ \
</span>  -<span class="ruby">-outtree my_project_v2/ \
</span>  -<span class="ruby">-reportfile report.txt</span>
</code></pre>
                            <ol>
                                <li><strong>Run the tests again on <code>tf1.15</code></strong>: This will weed out any
                                    possible bugs.</li>
                                <li><strong>Install TensorFlow 2.3</strong>: Even tfnightly should do the job.</li>
                                <li><strong>Test with <code>v1.disable_v2_behavior</code></strong> Re-running your tests
                                    with <code>v1.disable_v2_behavior()</code> should give the same results as running
                                    under 1.15.</li>
                            </ol>
                            <p>After going through the above steps for the AttentionOCR model, I found a few issues
                                which I will list out below.</p>
                            <h4 id="attentionocr-migration-issues">AttentionOCR Migration Issues</h4>
                            <ol>
                                <li>Using member <code>tf.flags.FLAGS.dataset_dir</code> in deprecated module
                                    <code>tf.flags</code>.
                                </li>
                                <li>Using member <code>tf.contrib.metrics.streaming_mean</code> in deprecated module
                                    <code>tf.contrib</code>. <a
                                        href="https://github.com/tensorflow/models/blob/e54fcee236a1258302342bd703ee27cbba0c12e3/research/attention_ocr/python/metrics.py#L49">link</a>,
                                    <a
                                        href="https://github.com/tensorflow/models/blob/e54fcee236a1258302342bd703ee27cbba0c12e3/research/attention_ocr/python/metrics.py#L90">link</a>.
                                </li>
                                <li>Using member <code>tf.contrib.lookup.index_to_string_table_from_tensor</code> in
                                    deprecated module <code>tf.contrib</code>. <a
                                        href="https://github.com/tensorflow/models/blob/e54fcee236a1258302342bd703ee27cbba0c12e3/research/attention_ocr/python/model.py#L86">link</a>
                                </li>
                                <li>Using member <code>tf.contrib.legacy_seq2seq.sequence_loss</code> in deprecated
                                    module <code>tf.contrib</code>. <a
                                        href="https://github.com/tensorflow/models/blob/e54fcee236a1258302342bd703ee27cbba0c12e3/research/attention_ocr/python/model.py#L636">link</a>
                                </li>
                                <li><code>*.save</code> requires manual check. (do I save to SavedModel or HDF5??) <a
                                        href="https://github.com/tensorflow/models/blob/e54fcee236a1258302342bd703ee27cbba0c12e3/research/attention_ocr/python/model_export.py#L181">link</a>
                                </li>
                                <li>Using member <code>tf.flags.FLAGS.checkpoint</code> in deprecated
                                    module <code>tf.flags</code></li>
                            </ol>
                            <p>These are the deprecated API&#39;s that I need to manually sort out by using functions
                                and removing <code>Session.run</code> calls.</p>
                            <strong>Work Done</strong>
                            <p>This section will have a commit list and the deprecated API list found along with each
                                conversion. See <a href="https://github.com/tensorflow/models/pull/8843">PR #8843</a>.
                            </p>
                            <table>
                                <thead>
                                    <tr>
                                        <th>Commit</th>
                                        <th style="text-align:right">Link</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>README updates according to template</td>
                                        <td style="text-align:right"><a
                                                href="https://github.com/tensorflow/models/pull/8843/commits/7a09beb4918626988b092a455f12f655f37f044e"><code>7a09beb</code></a>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>data_provider, model_export conversions</td>
                                        <td style="text-align:right"><a
                                                href="https://github.com/tensorflow/models/pull/8843/commits/e8ca3cd7f874d5c946e8160db713a849f5c5ad07"><code>e8ca3cd</code></a>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>demo_inference, <code>tf.flags</code> found</td>
                                        <td style="text-align:right"><a
                                                href="https://github.com/tensorflow/models/pull/8843/commits/ab293d96fdc554806d1f1ffa2cf23841cfdc2bad"><code>ab293d9</code></a>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>inception_processing converted, <code>tf.image</code> deprecated</td>
                                        <td style="text-align:right"><a
                                                href="https://github.com/tensorflow/models/pull/8843/commits/26c530411ba02afb11d7f64e61e380219bb24d16"><code>26c5304</code></a>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>minor conversions, <code>tf.contrib</code> deprecated</td>
                                        <td style="text-align:right"><a
                                                href="https://github.com/tensorflow/models/pull/8843/commits/042ae38f0e1facf00d4648a3d6b87d7043088278"><code>042ae38</code></a>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>metrics and model converted</td>
                                        <td style="text-align:right"><a
                                                href="https://github.com/tensorflow/models/pull/8843/commits/2c391b9a38761e14785f609d03f3a4603e668bef"><code>2c391b9</code></a>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <p>The second part of the conversion is <strong>still underway</strong>. More specifically,
                                we are waiting for the Object Detection API team to release their new code which would
                                have substantial improvements over the existing interfaces. Blockers such as
                                <code>seq2seq</code> will no more be a hindrance. Also, <code>tf.summary.text</code> has
                                been added. See <a href="https://github.com/tensorflow/models/pull/8992">PR #8992</a>.
                            </p>
                            <table>
                                <thead>
                                    <tr>
                                        <th>Commit</th>
                                        <th style="text-align:right">Link</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><code>tf.summary.text</code> addition</td>
                                        <td style="text-align:right"><a
                                                href="https://github.com/tensorflow/models/pull/8992/commits/1ee526f3290ce1992ff9c86aea38d86c6ba21d46"><code>1ee526f</code></a>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><code>compat.v1</code> for <code>tf.summary.text</code></td>
                                        <td style="text-align:right"><a
                                                href="https://github.com/tensorflow/models/pull/8992/commits/7efca34a84ae4d201ad2035ee894b8a0ec13c41f"><code>7efca34</code></a>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>demo_inference, <code>tf.flags</code> found</td>
                                        <td style="text-align:right"><a
                                                href="https://github.com/tensorflow/models/pull/8843/commits/ab293d96fdc554806d1f1ffa2cf23841cfdc2bad"><code>ab293d9</code></a>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>transfer urls from deprecated branch</td>
                                        <td style="text-align:right"><a
                                                href="https://github.com/tensorflow/models/pull/8992/commits/18bf2ba2280985f12568d24c9782cb4b2ec7bdf9"><code>18bf2ba</code></a>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>fixed README to reflect dataset transfer</td>
                                        <td style="text-align:right"><a
                                                href="https://github.com/tensorflow/models/pull/8992/commits/722e5762f071a003f0e4c5fc0169421d4ad7baea"><code>722e576</code></a>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>

                            <h3 id="section-5"><a href="#section-5"><a
                                        href="https://github.com/tensorflow/models/issues/8702">DeepSpeech</a><a
                                        href="https://arxiv.org/abs/1512.02595"><img
                                            src="http://img.shields.io/badge/arXiv-1512.02595-B3181B.svg"
                                            alt="Paper"></a></h3>

                            <p>I was not the primary author of the conversion for the DeepSpeech model which was
                                submitted in <a href="https://github.com/tensorflow/models/pull/8696/">PR #8696</a>. But
                                I was involved in writing tests and checking that the model reached reference accuracy
                                on both <code>tf1.15</code> and <code>tf2.3</code>.</p>
                            <p>We can see a good example of conversion to Keras layers here:</p>
                            <pre><code class="lang-python">
# <span class="hljs-selector-tag">TensorFlow</span> 1<span class="hljs-selector-class">.x</span>
    "<span class="hljs-selector-tag">lstm</span>": <span class="hljs-selector-tag">tf</span><span class="hljs-selector-class">.contrib</span><span class="hljs-selector-class">.rnn</span><span class="hljs-selector-class">.BasicLSTMCell</span>,
    "<span class="hljs-selector-tag">rnn</span>": <span class="hljs-selector-tag">tf</span><span class="hljs-selector-class">.contrib</span><span class="hljs-selector-class">.rnn</span><span class="hljs-selector-class">.RNNCell</span>,
    "<span class="hljs-selector-tag">gru</span>": <span class="hljs-selector-tag">tf</span><span class="hljs-selector-class">.contrib</span><span class="hljs-selector-class">.rnn</span><span class="hljs-selector-class">.GRUCell</span>,

# <span class="hljs-selector-tag">TensorFlow</span> 2<span class="hljs-selector-class">.x</span>
    "<span class="hljs-selector-tag">lstm</span>": <span class="hljs-selector-tag">tf</span><span class="hljs-selector-class">.keras</span><span class="hljs-selector-class">.layers</span><span class="hljs-selector-class">.LSTMCell</span>,
    "<span class="hljs-selector-tag">rnn</span>": <span class="hljs-selector-tag">tf</span><span class="hljs-selector-class">.keras</span><span class="hljs-selector-class">.layers</span><span class="hljs-selector-class">.SimpleRNNCell</span>,
    "<span class="hljs-selector-tag">gru</span>": <span class="hljs-selector-tag">tf</span><span class="hljs-selector-class">.keras</span><span class="hljs-selector-class">.layers</span><span class="hljs-selector-class">.GRUCell</span>,
</code></pre>
                            <h3 id="section-6"><a href="#section-6">Future Work</a></h3>
                            <p>The main priorities for the immediate future are as follows,</p>
                            <ul>
                                <li>
                                    <p>Convert AttentionOCR to native TensorFlow 2 and run tests.</p>
                                </li>
                                <li>
                                    <p>Prepare checkpoints for public usage and consolidate documentation.</p>
                                </li>
                                <li>
                                    <p>Provide interactive tutorials in the form of Google Colab.</p>
                                </li>
                                <li>
                                    <p>Convert DeepSpeech to native tf2 in collaboration with said PR author.</p>
                                </li>
                            </ul>
                            <h3 id="section-7"><a href="#section-7">Challenges encountered </a></h3>
                            <p>A lack of proper documentation was the biggest road-block to going about this project.
                                Previous examples of working were incredibly hard to find. In fact, a key deliverable
                                when I finish the conversion will be to write a detailed process of migration. Even
                                though it will be for only one model, it will still help the user community port their
                                own code to tf2.x.</p>
                            <hr>
                            <h2 id="section-8"><a href="#section-8">Mobile Video Object Detection
                                    <a href="https://arxiv.org/abs/1903.10172"><img
                                            src="http://img.shields.io/badge/arXiv-1903.10172-B3181B.svg"
                                            alt="Paper"></a>
                                    <a href="https://arxiv.org/abs/1711.06368"><img
                                            src="http://img.shields.io/badge/arXiv-1711.06368-B3181B.svg"
                                            alt="Paper"></a></a>
                            </h2>
                            <p>I started work on this project in the second half of the summer, and my mentors had some
                                exact goals for this project. I have to admit that some parts took more time than I
                                expected but all that helped me learn a lot. The main things we wanted to be done were:
                            </p>
                            <ul>
                                <li>
                                    <p>Check all GitHub issues and PRs related to lstm_object_detection and summarize
                                        key issues and asks from the community.</p>
                                </li>
                                <li>
                                    <p>Rerun model training/evaluation/inference from tensorflow repo and fix potential
                                        issues. For both local and cloud.</p>
                                </li>
                                <li>
                                    <p>Make and/or summarize necessary tools for data conversion, dense labeling, etc.
                                    </p>
                                </li>
                                <li>
                                    <p>Reproduce paper results and prepare ckpt for public usage.</p>
                                </li>
                                <li>
                                    <p>Prepare documentation and tutorial for the lstm_object_detection models.</p>
                                </li>
                            </ul>
                            <h3 id="section-9"><a href="#section-9">Work Done</a></h3>
                            <p>The first task was very critical towards the completion of this project as it meant that
                                we prioritize the user community and make sure all the major bugs are weeded out. I
                                found most of the main issues on GitHub (closed by the bot due to inactivity + open
                                issues) and also a few relevant StackOverflow questions. Left out some redundant issues
                                but noted their key asks. Next step at the moment was to review and prioritize major
                                fixes. Key issues found were:</p>
                            <ol>
                                <li>Problems with creating tf-records</li>
                                <li>More documentation needed (specifically training related: prepping data, etc)</li>
                                <li>More support required in general</li>
                            </ol>
                            <p>A few issues I used to scrape major problems were <a
                                    href="https://github.com/tensorflow/models/issues/6253">#6253</a>, <a
                                    href="https://github.com/tensorflow/models/issues/5869">#5869</a>, <a
                                    href="https://github.com/tensorflow/models/issues/7967">#7967</a>, <a
                                    href="https://github.com/tensorflow/models/issues/7288">#7288</a>, <a
                                    href="https://github.com/tensorflow/models/issues/6027">#6027</a>, <a
                                    href="https://github.com/tensorflow/models/issues/6777">#6777</a>, and <a
                                    href="https://github.com/tensorflow/models/issues/7109">#7109</a>. I also looked at
                                a few StackOverFlow questions for both answers and other problems. Most users agree that
                                the above three issues were causing most problems.</p>
                            <p>For the next steps, I started with reading the <a
                                    href="https://arxiv.org/abs/1711.06368">Mobile Video Object Detection with
                                    Temporally-Aware Feature Maps</a> paper and tried running the models locally. I
                                faced a few issues with creating VID2015 tfrecords. So I went and checked the config for
                                the <a href="https://arxiv.org/abs/1903.10172">Looking Fast and Slow</a> paper to see if
                                there was anything wrong with my code.</p>
                            <h3 id="section-10"><a href="#section-10">Future Work</a></h3>
                            <p>I need to provide additional documentation for lstm_object_detection models. New
                                additions will include training script and problems with custom data. The first thing to
                                do will be training with ImageNet VID2015 as the train/eval set. Watch this space!!</p>

                            <h2 id="section-11"><a href="#section-11">GitHub Issue Support</a></h2>
                            <p>We were all encouraged to get involved more deeply with the community by our mentors by
                                supporting GitHub issues and attempting to fix minor bugs, answer questions, close stale
                                issues etc. In the initial days, this helped me immensely by giving me a feel for how
                                the TensorFlow Model Garden team moved and worked. The TensorFlow Development Community,
                                as well as the User Community, is very active on the official Google Groups and
                                StackOverflow forums. A key responsibility was to answer questions and provide support
                                to GitHub issues. From my experience waiting for answers on the TensorFlow Stack
                                Overflow forums etc., I think that the problem is not so much that there are no quality
                                answers. Still, there are many repetitive questions and too few members active to answer
                                them.</p>
                            <p>We had a good fix for this problem, along with the other students, we created a sheet
                                where we classified frequently asked questions for three categories, <em>Object
                                    Detection API, Official models and Research models</em>. This sheet was shared with
                                the OD API team with comments on possible fixes etc. I&#39;m very hopeful that this will
                                help them for the next release.</p>
                            <hr>
                            <h2 id="section-12"><a href="#section-12">Documentation Improvements</a></h2>
                            <p>The TensorFlow 2.x codebase is relatively new, and large parts of the code could be given
                                more support than is currently the case. As part of this objective, I wanted to
                                contribute in some or the other way to improving the docs for TensorFlow models. The
                                main reason code goes undocumented is because of time. Apart from designing and writing
                                the code itself, we also need to undergo code reviews, automation tests and add unit
                                tests (to name a few things). Documentation is pretty much left out of the equation.</p>
                            <p>Here are some of the things I kept in mind while writing some docs:</p>
                            <ul>
                                <li>Understand the audience of the documentation​. TensorFlow is genuinely a universal
                                    framework used by students in India to detect disease in farmlands to SotA research
                                    at GoogleAI. We need to keep the barrier to entry as low as we can.</li>
                                <li>List and describe the main features​ of our model/tutorial while making sure to
                                    point out any dependencies that exist with other components.</li>
                                <li>We really need to inform our readers about the ​validity of the documentation that
                                    we’re writing and hence, we need to include a timestamp. Also, we need to have the
                                    versions of the libraries that we’re using.</li>
                                <li>The tutorials and documentation that we write for TensorFlow should have a large
                                    number of coding examples​, the more we can show the various ways we can use a
                                    particular feature, the better.</li>
                            </ul>
                            <h3 id="section-13"><a href="#section-13">Get started with Google Cloud Platform</a></h3>
                            <p>I combined two existing GCP documents to make a comprehensive tutorial for anyone looking
                                to leverage GCP resources for their ML project. The document lives <a
                                    href="https://tf-model-garden-testbed.readthedocs.io/en/latest/support/gcp.html">here</a>.
                            </p>
                            <h3 id="section-14"><a href="#section-14">Minor improvements</a></h3>
                            <p>Apart from the AttentionOCR README updates, I made a few minor doc updates which can be
                                seen at <a href="https://github.com/tensorflow/models/pull/8677">#8677</a>, <a
                                    href="https://github.com/tensorflow/models/pull/8654">#8654</a>, <a
                                    href="https://github.com/tensorflow/models/pull/8846">#8846</a>, <a
                                    href="https://github.com/tensorflow/models/pull/8675">#8675</a>, and <a
                                    href="https://github.com/tensorflow/tensorflow/pull/40012">#40012</a></p>
                            <hr>
                            <h2 id="section-14"><a href="#section-14">Final Thoughts</a></h2>
                            <p>There is a lot more work to do. I have a list of deliverables I will complete soon,</p>
                            <ol>
                                <li><strong>Continue with the model conversion</strong> from TF1.x if any models are
                                    leftover and also from PyTorch. The TensorFlow team has a list of projects that are
                                    in the pipeline.</li>
                                <li><strong>Create a To-do list</strong>​ for developers interested in converting models
                                    from tf1.x to tf2.x or between frameworks so that things move smoothly.</li>
                                <li><strong>Provide support and maintenance</strong> for more models in the research
                                    folder.</li>
                            </ol>

                            <p>In closing, I&#39;d like to continue contributing to TensorFlow and improve the Model
                                Garden. Exciting things are on the way.</p>
                            <p>May all Tensors Flow Securely!!</p>

                            <div id="footnotes">
                                <p>1: <a
                                        href="https://developers.google.com/open-source/gsoc/help/work-product">https://developers.google.com/open-source/gsoc/help/work-product</a>

                                <p>2: Note that some of the models in the research folder were shifted to an archive
                                    branch as referenced by <a
                                        href="https://github.com/tensorflow/models/commit/a8ba923c873f9848d0f6453f3e2e3fa2dd1187dc"><code>a8ba923</code></a>.

                                <p>3: <a
                                        href="https://www.tensorflow.org/guide/effective_tf2">https://www.tensorflow.org/guide/effective_tf2</a>
                            </div>


                            <div class="divider-short"></div>
                            <div class="info">
                                <div class="publishing-info-mobile">
                                    <p><em>Published:</em> June 6, 2020</p>
                                    <p><em>Updated:</em> August 24, 2020</p>
                                    <p><em>Status:</em> Finished</p>
                                </div>
                            </div>
                        </article>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>