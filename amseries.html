<!DOCTYPE html>
<html lang="en">

<head>
    <title>Fun Mathematics Problem</title>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" sizes="152x152" href="/assets/images/logos/alexandrosMegas.jpg">
    <link href="/assets/main.css" media="screen" rel="stylesheet" type="text/css">
    <script src="/assets/main.js" type="text/javascript"></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-HBVJ1FF958"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-HBVJ1FF958');
    </script>
</head>

<body class="">
    <div id="container">
        <div class="signature">
            <div class="flexcontainer">
                <div class="nav-view">
                    <div class="nav-inner">
                        <nav>
                            <a href="/" title="New Ideas"><img style="float: left;margin: 0px 35px 25px 35px;"
                                    src="/assets/images/logos/logo.svg" alt="website-logo" width="75" height="75"></a>
                            <ul>
                                <li><a href="/about" title="About">About</a></li>
                                <li><a href="/" title="Articles">Articles</a></li>
                                <li><a href="/research" title="Research">Research</a></li>
                                <li><a href="/reading" title="Reading">Reading</a></li>
                                <li><a href="/notes" title="Notes">Notes</a></li>
                            </ul>
                        </nav>
                        <div class="nav-extra-content">
                            <div class="divider"></div>
                            <p><em>Published:</em> May 14, 2023</p>
                            <p><em>Status:</em> Finished</p>
                        </div>
                    </div>
                </div>
                <div class="toc-index"></div>
                <div class="content">
                    <div class="signature-content-header">
                        <div id="title">
                            <h1>Fun Mathematics Problem</h1>
                            <h3>Prove that a series where each term is the arithmetic mean of the
                                previous two terms converges.</h3>
                            <div class="publishing-info-mobile">
                                <p><em>Published:</em> May 14, 2023</p>
                                <p><em>Updated:</em> May 14, 2023</p>
                                <p><em>Status:</em> Finished</p>
                            </div>
                        </div>
                    </div>
                    <div class="signature-content">
                        <div class="toc">
                            <h2>Contents</h2>
                            <ol>
                                <li><a href="#section-0">Problem Statement</a></li>
                                <li><a href="#section-1">Initial Rules</a></li>
                                <li><a href="#section-2">Solution for $i_n$</a></li>
                                <li><a href="#section-3">Solving Limits</a></li>
                                <li><a href="#section-4">Visualizing Convergence</a></li>
                                <li><a href="#section-5">Denouement</a></li>
                            </ol>
                            <div class="divider-short"></div>
                        </div>
                        <article class="big">
                            <p><em>I found this problem on Mathstodon (can't remember exactly where though) and then saw
                                    that there was a source on Twitter, put up by <a
                                        href="https://twitter.com/jamestanton/status/1644652304501547010?s=20">James
                                        Tanton</a>. So I saved it, and decided it to look at it over the weekend. It was
                                    a fun experience, and I solved it with help from <a
                                        href="https://agilanravi01.wordpress.com">Agilan</a>. This post contains the
                                    solution in the general order of how I solved it.</em></p>

                            <h2 id="section-0"><a href="#section-0">Problem Statement</a></h2>

                            <p>
                                Given two initial numbers $a$ and $b,$ and a series $S$ defined as follows:
                                $$S = \{a, b, s_1, s_2, s_3, \dots\}$$
                                where $s_n$ is the arithmetic mean of the previous two terms, prove that $S$ converges
                                and find its limit $V.$
                            </p>

                            <h2 id="section-1"><a href="#section-1">Initial Rules</a></h2>

                            <p>
                                Let a general term in the sequence $s_n$ be written as follows:
                                $$s_n = \frac{i_{n}a + j_{n}b}{2^n},$$ where $i_n$ and $j_n$ are integers and
                                coefficients of $a$ and $b$ respectively. The first rule we can deduce is that $i_n +
                                j_n = 2^n.$ To highlight this, let us list out a few terms of the sequence:
                                $$S = \Big\{\frac{a+b}{2}, \frac{a+3b}{4}, \frac{3a+5b}{8}, \frac{5a+11b}{16},
                                \frac{11a+21b}{32}, \frac{21a+43b}{64}, \frac{43a+85b}{128}, \dots\Big\}.$$ Secondly, we
                                also notice that $i_{n+1}=j_n.$ Put these two together and we get our first important
                                rule, $$i_{n+1} = 2^n - i_n.$$
                            </p>

                            <h2 id="section-2"><a href="#section-2">Solution for $i_n$</a></h2>

                            <p>
                                Until here, our job was straightforward. We just needed to eliminate $i_n$ from the
                                equation by
                                finding a closed form representation for it. Again, looking at the sequence gave us the
                                idea. $i_n$ was changing in a very predictable manner with each term. For odd terms, the
                                next coefficient was double the previous one but with $1$ subtracted, and for even
                                terms, the next coefficient was double the previous one with an additional $1$ added to
                                it. This gave us second rule:
                                $$i_{n+1} = 2i_n + (-1)^n.$$
                            </p>

                            <p>
                                These two can be put together to eliminate $i_n$ and get a closed form representation.
                                Subtracting the second rule from the first, we get:
                                $$
                                \begin{aligned}
                                0 &= 2^n - 3i_n - (-1)^n \\
                                i_n &= \frac{2^n - (-1)^n}{3} \\
                                \end{aligned}
                                $$
                            </p>

                            <h2 id="section-3"><a href="#section-3">Solving Limits</a></h2>

                            <p>
                                Now that we have a closed form representation for $i_n,$ we can plug it back in the
                                original equation for $s_n$ and solve for the limit. We get:
                                $$s_n = \frac{\Big[\frac{2^n - (-1)^n}{3}\Big]a+\Big[2^n-\frac{2^n -
                                (-1)^n}{3}\Big]b}{2^n}.$$ Our objective now is to prove that
                                $\displaystyle\lim_{n\rightarrow\infty} s_n$ converges to a final value $V$ and then,
                                find $V.$
                            </p>

                            <p>
                                The limits are easy to solve, we just need the constants that are multiplied with the
                                $2^n$ terms in each case, because all non-exponentials will go to $0$ as $n$ approaches
                                infinity. We get:
                                $$\displaystyle\lim_{n\rightarrow\infty} \frac{2^n - (-1)^n}{3\times 2^n} =
                                \frac{1}{3},$$ and similarly, $$\displaystyle\lim_{n\rightarrow\infty} \frac{2^n -
                                \frac{2^n - (-1)^n}{3}}{2^n} = \frac{2}{3}.$$ So,
                                $$\displaystyle\lim_{n\rightarrow\infty} s_n = V = \frac{a+2b}{3}.$$
                            </p>

                            <h2 id="section-4"><a href="#section-4">Visualizing Convergence</a></h2>

                            <p>
                                When we were stuck on the problem, we decided to visualize the sequence to see if we
                                could
                                find a pattern. We plotted a few terms of the sequence for different values of $a$ and
                                $b$
                                and found that the sequence was converging to a single point. We also found that the
                                sequence was converging faster for some values of $a$ and $b$ than others. The following
                                code snippet shows how we plotted the sequence.
                            </p>

                            <script src="https://gist.github.com/kyscg/feafa02663043f39689a18a5976c0e5b.js"></script>

                            <figure>
                                <p><a href="/assets/images/articles/amseries/convergence.svg"><img
                                            src="/assets/images/articles/amseries/convergence.svg"
                                            class="overflowing"></a></p>
                                <figcaption>Convergence of the arithmetic mean series, with a very nice oscillating
                                    motion. Initialization: $a=5, b=8.$</figcaption>
                            </figure>

                            <h2 id="section-5"><a href="#section-5">Denouement</a></h2>

                            <p>
                                Solving the problem didn't quite happen in this linear fashion, we got the first rule
                                fairly quickly but the second rule eluded us for quite some time. I'll post the entirety
                                of our thought process below, so you can see how we arrived at the solution. It is quite
                                messy, but it was a lot of fun to work on.
                            </p>

                            <figure>
                                <p><a href="/assets/images/articles/amseries/notes1.svg"><img
                                            src="/assets/images/articles/amseries/notes1.svg" class="overflowing"></a>
                                </p>
                                <figcaption>Writing down the sequence, and then deducing the two important rules. A
                                    diversion in between where we used the fact that as $n\rightarrow\infty,$ adjacent
                                    terms will be equal.</figcaption>
                            </figure>

                            <p>
                                There were some things that can be proven more concretely, like the first rule where we
                                said that $i_{n+1}=j_n.$ But I didn't want to go into that much detail. I just wanted to
                                solve the problem and move on. I'm sure there is a way to rigorously prove this rule. If
                                you know how, please let me know in the comments below.
                            </p>

                            <figure>
                                <p><a href="/assets/images/articles/amseries/notes2.svg"><img
                                            src="/assets/images/articles/amseries/notes2.svg" class="overflowing"></a>
                                </p>
                                <figcaption>Solving the limits for the final answer. Before that, we used our script to
                                    generate two values of $V$ for two initializations of $a$ and $b$ to solve it
                                    algebraically.</figcaption>
                            </figure>

                            <p>
                                There are more elegant ways to solve this problem too. I found a solution in the Twitter
                                comments that uses the
                                fact that initializing with numbers in the same sequence gives the same limit and then
                                solving two such equations for the two coefficients which will always turn out to be
                                $1/3$ and $2/3.$
                            </p>

                            <script src="https://utteranc.es/client.js" repo="kyscg/kyscg.github.io" issue-term="url"
                                label="comments" theme="github-light" crossorigin="anonymous" async>
                                </script>

                            <div class="divider-short"></div>
                            <div class="info">
                                <div class="publishing-info-mobile">
                                    <p><em>Published:</em> May 14, 2023</p>
                                    <p><em>Updated:</em> May 14, 2023</p>
                                    <p><em>Status:</em> Finished</p>
                                </div>
                            </div>
                        </article>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>